define ("mod_coursebadges/dual_list",["jquery","jqueryui","core/str"],function(c,a,b){function d(){c("body").on("click",".list-group .list-group-item .badge-content",function(){if(!c(this).parents("td").hasClass("read-only")&&!c(this).parents("td").hasClass("no-modif")){c(this).parents(".list-group-item").toggleClass("active");var a=c(this).find("input[type=checkbox]");a.attr("checked",!a.attr("checked"))}});c("body").on("click",".action-btn",function(){var a=c(this).parents(".list-group-item").find(".badge-detail"),b=c(this).find("i");if(b.hasClass("fa-sort-up")||b.hasClass("fa-sort-asc")){a.show();b.removeClass("fa-sort-up").addClass("fa-sort-down");b.removeClass("fa-sort-asc").addClass("fa-sort-desc")}else{a.hide();b.removeClass("fa-sort-down").addClass("fa-sort-up");b.removeClass("fa-sort-desc").addClass("fa-sort-asc")}});c(".list-arrows button").click(function(){var a=c(this),b="";if(a.hasClass("move-left")){b=c(".list-right ul.list-group li.list-group-item.active");b.clone().appendTo(".list-left ul.list-group");b.remove()}else if(a.hasClass("move-right")){b=c(".list-left ul.list-group li.list-group-item.active");b.clone().appendTo(".list-right ul.list-group");b.remove()}e(".list-left");e(".list-right");var d=c(".list-right ul.list-group li.list-group-item");c("input[name=\"rightlistids\"]").val(f(d));var g=c(".list-left ul.list-group li.list-group-item");c("input[name=\"leftlistids\"]").val(f(g))});c(".dual-list .selector").click(function(){var a=c(this);if(!a.hasClass("selected")){a.addClass("selected").closest(".content").find("ul.list-group li.list-group-item:not(.active)").addClass("active")}else{a.removeClass("selected").closest(".content").find("ul.list-group li.list-group-item.active").removeClass("active")}});c("#id_changebadgeselections").click(function(a){a.preventDefault();c("#dialog_change_badge_selections").show();c("#dialog_change_badge_selections").dialog("open")});b.get_strings([{key:"changeselectedbadges",component:"mod_coursebadges"},{key:"closewindow"},{key:"yes"},{key:"cancel"}]).then(function(a){console.log(a);c("#dialog_change_badge_selections").dialog({autoOpen:!1,width:400,title:a[0],draggable:"false",modal:!0,resizable:!1,closeOnEscape:!1,closeText:a[1],buttons:[{text:a[2],id:"btValidate",click:function click(){window.location.href=window.location.href+"&dbs=1"}},{text:a[3],id:"btCancel",click:function click(){c(this).dialog("close")}}]})})}function e(a){var b=c(a+" ul.list-group").find("li.list-group-item"),d=Array.prototype.sort.bind(b);d(function(d,a){var b=c(d).find(".badge-title").text(),e=c(a).find(".badge-title").text();if(b<e){return-1}if(b>e){return 1}return 0});c(a+" ul.list-group").append(b)}function f(a){var b=0,c=a.length,d="";if(0<c){for(var e in a){if("LI"==a[e].tagName){if(b==c-1){d+=a[e].value}else{d+=a[e].value+","}b++}}}return d}return{init:function init(){d()}}});
//# sourceMappingURL=dual_list.min.js.map
